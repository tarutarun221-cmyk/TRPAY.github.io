<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TR Pay | Secure Wallet</title>
    <style>
        :root {
            --primary: #1a237e;
            --accent: #00c853;
            --dark: #212121;
            --light: #f5f5f5;
            --danger: #d32f2f;
        }
        body { font-family: 'Segoe UI', sans-serif; background: var(--light); margin: 0; display: flex; justify-content: center; }
        
        .screen { width: 100%; max-width: 450px; min-height: 100vh; background: white; display: none; flex-direction: column; box-shadow: 0 0 20px rgba(0,0,0,0.1); position: relative; }
        .active { display: flex; }

        /* Corner Logo */
        .corner-logo { position: absolute; top: 15px; left: 15px; background: white; border-radius: 50%; padding: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--primary); z-index: 10; border: 2px solid var(--primary); }

        /* Auth Styles */
        .auth-box { padding: 40px; text-align: center; margin-top: 80px; }
        .btn { width: 100%; padding: 14px; background: var(--primary); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; margin-top: 10px; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }

        /* Dashboard Styles */
        .nav-bar { background: var(--primary); color: white; padding: 20px 20px 20px 70px; display: flex; justify-content: space-between; align-items: center; }
        .balance-box { background: linear-gradient(135deg, #1a237e, #3949ab); color: white; margin: 20px; padding: 25px; border-radius: 15px; }
        
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; padding: 20px; }
        .icon-btn { text-align: center; font-size: 0.7rem; cursor: pointer; }
        .circle { width: 55px; height: 55px; background: #e8eaf6; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 8px; font-size: 1.5rem; }

        /* Scanner Overlay */
        #scanner-view { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; flex-direction: column; align-items: center; justify-content: center; color: white; z-index: 100; }
        .scan-window { width: 250px; height: 250px; border: 2px solid var(--accent); position: relative; overflow: hidden; }
        .scan-line { width: 100%; height: 2px; background: var(--accent); position: absolute; animation: scan 2s infinite; }
        @keyframes scan { from {top: 0;} to {top: 100%;} }

        /* List Styles (Banks, Contacts, History) */
        .section-title { padding: 10px 20px; background: #eee; font-size: 0.8rem; font-weight: bold; color: #666; }
        .list-item { display: flex; align-items: center; padding: 15px 20px; border-bottom: 1px solid #f0f0f0; cursor: pointer; }
        .icon-box { width: 40px; height: 40px; border-radius: 8px; margin-right: 15px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; }
        .avatar { border-radius: 50%; }

        /* History specific */
        .hist-amt { margin-left: auto; text-align: right; font-weight: bold; }
        .success { color: var(--accent); }
        .failed { color: var(--danger); }
    </style>
</head>
<body>

    <div class="corner-logo">TR</div>

    <div id="login-page" class="screen active">
        <div class="auth-box">
            <h1 style="color:var(--primary)">TR Pay</h1>
            <p>Secure Mobile Payments</p>
            <div id="phone-ui">
                <input type="tel" id="phone" placeholder="Enter Mobile Number">
                <button class="btn" onclick="sendRandomOTP()">Request OTP</button>
            </div>
            <div id="otp-ui" style="display:none">
                <input type="text" id="otp-input" placeholder="Enter OTP">
                <button class="btn" style="background:var(--accent)" onclick="verifyOTP()">Verify & Enter</button>
            </div>
        </div>
    </div>

    <div id="dash-page" class="screen">
        <div id="scanner-view">
            <div class="scan-window"><div class="scan-line"></div></div>
            <p>Scanning for QR Code...</p>
            <button onclick="closeScanner()" style="margin-top:20px; background:red; border:none; color:white; padding:10px 20px; border-radius:5px;">Cancel</button>
        </div>

        <div class="nav-bar">
            <span>Dashboard</span>
            <span onclick="location.reload()" style="cursor:pointer; font-size: 0.8rem;">Logout</span>
        </div>

        <div class="balance-box">
            <span style="float:right; cursor:pointer" onclick="checkBalance()">üëÅÔ∏è</span>
            <small>Wallet Balance</small>
            <h2 id="balance-display">‚óè‚óè‚óè‚óè‚óè‚óè</h2>
        </div>

        <div class="grid">
            <div class="icon-btn" onclick="openScanner()"><div class="circle">üì∑</div>Scanner</div>
            <div class="icon-btn" onclick="alert('Search contacts...')"><div class="circle">üì±</div>Mobile</div>
            <div class="icon-btn" onclick="switchScreen('bank-page')"><div class="circle">üè¶</div>Add Bank</div>
            <div class="icon-btn" onclick="switchScreen('history-page')"><div class="circle">üìä</div>History</div>
        </div>

        <div class="section-title">QUICK PAY (FAKE CONTACTS)</div>
        <div id="contact-list"></div>
    </div>

    <div id="bank-page" class="screen">
        <div class="nav-bar">
            <span onclick="switchScreen('dash-page')" style="cursor:pointer">‚¨Ö Select Bank</span>
        </div>
        <div style="padding: 10px;"><input type="text" placeholder="Search your bank..."></div>
        <div class="list-item" onclick="selectBank('HDFC')"><div class="icon-box" style="background: #004c8f;">H</div>HDFC Bank</div>
        <div class="list-item" onclick="selectBank('SBI')"><div class="icon-box" style="background: #28abe3;">S</div>State Bank of India</div>
        <div class="list-item" onclick="selectBank('ICICI')"><div class="icon-box" style="background: #f37021;">I</div>ICICI Bank</div>
    </div>

    <div id="history-page" class="screen">
        <div class="nav-bar">
            <span onclick="switchScreen('dash-page')" style="cursor:pointer">‚¨Ö Payment History</span>
        </div>
        <div class="section-title">JANUARY 2026</div>
        <div class="list-item">
            <div class="icon-box avatar" style="background:#4caf50">S</div>
            <div><b>Starbucks Coffee</b><br><small>28 Jan, 10:15 AM</small></div>
            <div class="hist-amt failed">- ‚Çπ450</div>
        </div>
        <div class="list-item">
            <div class="icon-box avatar" style="background:#2196f3">R</div>
            <div><b>Received from Rahul</b><br><small>25 Jan, 06:30 PM</small></div>
            <div class="hist-amt success">+ ‚Çπ2,000</div>
        </div>
        <div class="list-item">
            <div class="icon-box avatar" style="background:#ff9800">A</div>
            <div><b>Amazon Shopping</b><br><small>22 Jan, 02:45 PM</small></div>
            <div class="hist-amt">- ‚Çπ1,280</div>
        </div>
        <div class="list-item">
            <div class="icon-box avatar" style="background:#607d8b">M</div>
            <div><b>Metro Recharge</b><br><small>20 Jan, 09:00 AM</small></div>
            <div class="hist-amt success">- ‚Çπ500</div>
        </div>
    </div>

    <script>
        let generatedOTP = null;
        const Contacts = [
            { name: "Aquib", color: "#FF5722" },
            { name: "Shashak", color: "#E91E63" },
            { name: "Nithin", color: "#9C27B0" }
            { name: "Shoaib", color: "#9C27B0" }

        ];

        function sendRandomOTP() {
            if(document.getElementById('phone').value.length < 10) return alert("Invalid Number");
            generatedOTP = Math.floor(1000 + Math.random() * 9000);
            alert("TR Pay Security: Your random OTP is " + generatedOTP);
            document.getElementById('phone-ui').style.display = 'none';
            document.getElementById('otp-ui').style.display = 'block';
        }

        function verifyOTP() {
            if(document.getElementById('otp-input').value == generatedOTP) {
                switchScreen('dash-page');
                loadContacts();
            } else { alert("Wrong OTP!"); }
        }

        function checkBalance() {
            const pin = prompt("Enter Security Password:");
            if(pin === "0000") {
                document.getElementById('balance-display').innerText = "‚Çπ 1,28,450.00";
            } else { alert("Access Denied"); }
        }

        function openScanner() {
            document.getElementById('scanner-view').style.display = 'flex';
            setTimeout(() => {
                alert("QR Code Detected: Merchant_ID_7782 - Pay TR Pay?");
                closeScanner();
            }, 3000);
        }

        function closeScanner() { document.getElementById('scanner-view').style.display = 'none'; }

        function switchScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function selectBank(name) {
            alert(name + " linking initiated...");
            switchScreen('dash-page');
        }

        function loadContacts() {
            const list = document.getElementById('contact-list');
            list.innerHTML = fakeContacts.map(c => `
                <div class="list-item" onclick="alert('Paying ${c.name}')">
                    <div class="icon-box avatar" style="background:${c.color}">${c.name[0]}</div>
                    <div><b>${c.name}</b></div>
                </div>
            `).join('');
        }
    </script>
</body>
</html>
